.TITLE HELLOWRD
.ORG 0x0000000000000000
.TEXT BEGIN

START:
	PUSH	@HELLOWRD
	PUSH	TEXTPTR
	CALL	PRINT
	SYS	EXIT
PRINT:
	POP	R00
	POP	@INDEX
	INDEX	R01, @INDEX, R00
	INC	@INDEX
	IO	OUT, CONSOLE, R01
	CMP	R01, #0
	BNE	-4
	RET	#0

TEXT END

.DATA BEGIN
	.ASCII HELLOWRD = "Hello, World!\n"
	.WORD TEXTPTR =  @HELLOWRD
	.WORD INDEX = 0
.DATA END
