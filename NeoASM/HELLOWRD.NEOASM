.TITLE HELLOWRD
.ORG 0x0000000000000000
.TEXT BEGIN

START:
	PUSH	@HELLOWRD
	PUSH	TEXTPTR
	CALL	PRINT
	SYS	EXIT
PRINT:
	POP	%00
	POP	@INDEX
.LOOP:	INDEX	R01, @INDEX, %00
	INC	@INDEX
	IO	OUT, CONSOLE, %01
	CMP	%01, #0
	BNE	.LOOP
	RET	#0

TEXT END

.DATA BEGIN
	.ASCII HELLOWRD = "Hello, World!\n"
	.WORD TEXTPTR =  @HELLOWRD
	.WORD INDEX = 0
.DATA END
